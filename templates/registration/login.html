{% extends 'base_auth.html' %}
{% load static %}

{% block content %}
<div class="auth-header">
    <span class="auth-logo">MediaVault</span>
    <h1 class="auth-title">Sign in</h1>
    <p class="auth-subtitle">Access your digital vault</p>
</div>

<form method="post"
    onsubmit="this.querySelector('button[type=submit]').disabled=true; this.querySelector('button[type=submit]').innerText='Signing in...';">
    {% csrf_token %}

    <div class="v-input-wrapper">
        <input type="text" name="username" placeholder="Email or Phone number" required autofocus
            value="{{ form.username.value|default:'' }}" class="v-auth-input">
        {% if form.username.errors %}
        <span class="error-msg">{{ form.username.errors.0 }}</span>
        {% endif %}
    </div>

    <div class="v-input-wrapper">
        <input type="password" name="password" id="id_password" required placeholder="Password" class="v-auth-input">
        <button type="button" class="password-toggle" onclick="togglePassword('id_password')">
            <i class="fas fa-eye"></i>
        </button>
        {% if form.password.errors %}
        <span class="error-msg">{{ form.password.errors.0 }}</span>
        {% endif %}
    </div>

    {% if form.non_field_errors %}
    <div
        style="background-color: rgba(209, 52, 56, 0.1); color: var(--danger); padding: 12px; border-radius: 8px; margin-bottom: 20px; font-size: 14px; font-weight: 600; border: 1px solid var(--danger);">
        {% for error in form.non_field_errors %}
        {{ error }}
        {% endfor %}
    </div>
    {% endif %}

    <button type="submit" class="v-btn v-btn-primary" style="width: 100%; height: 48px; font-size: 16px;">Sign
        in</button>
</form>

<div class="auth-footer">
    <span>New around here?</span>
    <a href="{% url 'signup' %}" class="auth-link">Create an account</a>
</div>
{% endblock %}